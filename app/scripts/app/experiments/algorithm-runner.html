<div ng-if="running">
  <h2><span class="fa fa-spinner fa-spin"></span> Computing Data...</h2>
</div>

<div ng-if="!running && has_run && result[algorithm]">
  <div style="margin: -16px -16px 0 -16px" class="table-responsive">
    <table class="table table-striped table-bordered text-nowrap">
      <tr>
        <th>Variable</th>
        <th>Coefficients</th>
        <th>Standard Error</th>
        <th>T-statistic</th>
        <th>P-value</th>
      </tr>
      <tr ng-repeat="(name, value) in result[algorithm].cells.summary.init.coefficients">
        <td ng-bind="variable_title(name)"></td>
        <td ng-bind="value.estimate | number"></td>
        <td ng-bind="value.std_error | number"></td>
        <td ng-bind="value.t_value | number"></td>
        <td>
          <span ng-bind="value.p_value | number:5"></span>
          <span ng-bind="pvalue_quality(value.p_value)"></span>
        </td>
      </tr>
    </table>
  </div>

  <div ng-if="result[algorithm].output.type && result[algorithm].cells.validations">

    <h3>Cross Validation Results</h3>

    <table ng-if="result[algorithm].output.type === 'double'" class="table table-bordered text-nowrap">
      <tr>
        <th>Mean Square Error</th>
        <th>Root Mean Square Error</th>
        <th>Factor 2</th>
        <th>Coefficient of Determination</th>
      </tr>

      <tr>
        <td ng-bind="result[algorithm].cells.validations[0].overall_mse"></td>
        <td ng-bind="result[algorithm].cells.validations[0].overall_rmse"></td>
        <td ng-bind="result[algorithm].cells.validations[0].overall_fac2"></td>
        <td ng-bind="result[algorithm].cells.validations[0].overall_r2"></td>
      </tr>
    </table>

    <table ng-if="result[algorithm].output.type == '2'"></table>
    <table ng-if="result[algorithm].output.type == '3'"></table>

  </div>


</div>

<form ng-if="!running" class="form-inline">
  <div class="form-group">
    <label for="k_fold">K-Fold: </label>
    <div class="input-group">
      <input id="k_fold" ng-model="k_fold" step="1" min="1" class="form-control" type="number"/>
      <div class="input-group-addon fa fa-question-circle"
           popover-title="K-fold cross validation"
           popover-placement="bottom"
           popover-append-to-body="true"
           popover="Defines the number of folds used in the cross-validation. Typical numbers are 2 or 10. More information: \n https://en.wikipedia.org/wiki/Cross-validation_(statistics)"></div>
    </div>
  </div>
  <button class="btn btn-primary pull-right"
          ng-bind="(has_run && result[algorithm]) ? 'Run Again' : 'Run Experiment'"
          ng-click="run_algorithm()"></button>
</form>
